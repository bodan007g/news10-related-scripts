domain: "www.lemonde.fr"
language: "fr"

# Content filtering (URL-based)
content_filters:
  require_article_id: true
  article_id_pattern: '_(\d{7,})_'
  min_word_count: 200
  additional_skip_patterns:
    - "/guides-d-achat/"
    - "/applications-groupe/"
    - "/annonces-legales/"
    - "/archives-du-monde/"
    - "?origin=HPcarrousel"
    - "?lmd_campaign="

# HTML extraction rules
article_selectors:
  - ".article__content"
  - ".article-content"
  - ".post-content"
  - "[data-module=ArticleContent]"
remove_selectors:
  - ".teads-inread"
  - ".article-aside"
  - ".breadcrumb"
  - ".share-buttons"
  - ".related-articles"
  - ".social-share"
  - ".newsletter-signup"
  - ".advertising"
  - ".pub"
  - ".aside"
  - ".navigation"
  - ".header"
  - ".footer"
  - ".comments"
  - ".author-bio"
  - ".tags"
  - ".capping"  # Device limit sections
  - ".capping__wrapper"
  - ".article__gift-modal"  # Gift/subscription modals
  - ".paywall__comments"  # Paywall comment sections
  - "[id*='capping']"  # Any element with capping in the ID
  - "[class*='capping']"  # Any element with capping in the class
title_selector: "h1"
date_selector: ".meta__date, time"
author_selector: ".meta__author, .author"

# Text cleanup patterns (French-specific)
cleanup_patterns:
  subscription_walls:
    - "Il vous reste \\d+[.,]\\d*% de cet article à lire.*"
    - "La suite est réservée aux abonnés.*"
    - "Article réservé à nos abonnés.*"
    - "Pour lire la suite.*abonnez-vous.*"
    - "Parce qu'une autre personne.*est en train de lire.*Le Monde.*"
    - "Vous ne pouvez lire.*Le Monde.*que sur.*un seul appareil.*"
    - "Comment ne plus voir ce message.*"
    - "Que se passera-t-il si vous continuez à lire ici.*"
    - "Y a-t-il d'autres limites.*"
    - "Vous ignorez qui.*"
  navigation_elements:
    - "Lire aussi.*?\\|.*?Article réservé.*"
    - "Lire plus tard.*"
    - "Voir aussi.*?\\|.*"
  social_sharing:
    - "Partager cet article.*"
    - "Suivez.*?sur.*"
    - "Retrouvez.*?sur.*"
  newsletter_promotional:
    - "Recevez.*?newsletter.*"
    - "S'abonner.*?à partir de.*€.*"
  stop_at_patterns:
    - "Il vous reste \\d+[.,]\\d*%"  # Stop extraction here
  boilerplate_removal:
    - "Suivez.*?Le Monde.*"
    - "Retrouvez.*?Le Monde.*sur.*"
    - "Partager cet article.*"
    - "Lire aussi.*"
    - "Voir aussi.*"
    - "Lire plus tard.*"
    - 'Par\s+[A-ZÀ-Üa-zà-ü\s\.]+(?:,\s*[A-ZÀ-Üa-zà-ü\s\.]+)*(?:\s|$)'  # Author bylines with French chars
    - 'Publié\s+le\s+\d{1,2}/\d{1,2}/\d{4}.*'  # Publication dates
    - 'Modifié\s+le\s+\d{1,2}/\d{1,2}/\d{4}.*'  # Modification dates
    - "S'abonner.*?à partir de.*€.*"
    - "Recevez.*?newsletter.*"
    - "Lecture du.*?Monde.*?en cours sur un autre appareil.*"  # Device limit notices
    - "Continuer à lire ici.*"  # Device limit buttons
    - "Ajouter un compte.*"  # Account management
    - "Découvrir l'offre Famille.*"  # Family offers
    - "Découvrir les offres multicomptes.*"  # Multi-account offers
    - "Pourquoi voyez-vous ce message.*"  # FAQ headers
    - "modifier votre mot de passe.*"  # Password change suggestions
    - "Votre abonnement n'autorise pas.*"  # Subscription restrictions